/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2015 - 2018, OAF2E
 * @license     http://opensource.org/licenses/MIT  MIT License
 * @link        https://www.ioa.tw/
 */

@import "_oa";

#maps {
  position: fixed;
  top: 0;
  left: 0;
  display: inline-block;
  width: 100%;
  height: 100%;
  background-color: rgba(229, 227, 223, 1.00);
  overflow: hidden;
  @include border-radius(2px);
  
  .gmap {
    position: absolute;
    top: 0;
    left: 0;
    display: inline-block;
    width: 100%;
    height: 100%;
    z-index: 1;

    a[href^="http://maps.google.com/maps"], a[href^="https://maps.google.com/maps"] {
      display: none !important;
    }

    .gmnoprint.gm-bundled-control, .gm-style-cc {
      display: none;
    }
  }

  .zoom a {
    color: #6f6f6f;
    font-weight: bold;
    cursor: pointer;
    font-size: 20px;
    background-color: white;
    @include transition(color .3s);
    
    &:hover {
      color: #323232;
    }
  }

  .colors {
    position: absolute;
    bottom: 8px;
    left: 8px;

    display: inline-block;
    width: 44px;

    z-index: 2;
    background-color: white;

    font-size: 10px;
    color: white;

    @include box-shadow(0 1px 4px rgba(0, 0, 0, 0.3));
    @include border-radius(3px);
    
    > * {
      display: inline-block;
      width: 100%;
      height: 22px;
      line-height: 22px;
      padding: 0 4px;

      cursor: pointer;
      @include transition(width .3s);

      &:hover {
        width: calc(44px + 40px);
        &:after {
          display: inline-block;
        }
      }

      &:after {
        display: none;
        content: '公里/小時';
        margin-left: 4px;
        @include opacity(.5);
      }
    }
  }

  .zoom {
    position: absolute;
    bottom: 8px;
    right: 8px;
    display: inline-block;
    width: 35px;
    height: 35px * 2 + 1px;
    z-index: 2;
    background-color: white;
    padding-left: 4px;
    padding-right: 4px;
    @include box-shadow(0 1px 4px rgba(0, 0, 0, 0.3));
    @include border-radius(3px);
    
    &:after {
      content: '';
      position: absolute;
      top: 35px + 1px;
      left: 5px;
      display: inline-block;
      width: calc(100% - 5px * 2);
      height: 1px;
      background-color: #dcdcdc;

    }
    a {
      text-decoration: none;
      display: inline-block;
      width: 100%;
      height: 35px;
      line-height: 35px;
      text-align: center;
    }
  }

  .duration, .length, .timeago, .open-course, .remaining-time, .battery {
    position: absolute;
    display: none;

    &.s {
      display: inline-block;
    }

    height: 32px;
    line-height: 32px;
    z-index: 2;
    background-color: white;
    padding-left: 8px;
    padding-right: 8px;
    font-size: 13px;

    @include box-shadow(0 1px 4px rgba(0, 0, 0, 0.3));
    @include border-radius(3px);
    &:before, &:after {
      font-size: 10px;
    }
  }

  .open-course {
    top: 8px;
    right: 8px;

    i {
      margin-top: (32px - 20px) / 2;
    }
    &:after {
      content: '顯示方向';
      font-size: 13px;
      margin-left: 4px;
    }
  }

  .remaining-time {
    top: 8px + 32px + 8px;
    left: 8px;

    &:before {
      content: '可用：';
    }
  }

  .timeago {
    top: 8px;
    left: 8px;

    &:before {
      content: '上次上傳：';
    }
  }

  .duration {
    right: 8px;
    top: 8px + 32px + 8px;

    &:empty {
      display: none !important;
    }
    &:before {
      content: '耗時：';
    }
  }

  .battery {
    bottom: 8px + 32px + 8px;
    right: 8px + 35px + 8px;

    &:empty {
      display: none !important;
    }
    &:before {
      content: '電力：';
    }
    &:after {
      content: ' %';
    }
  }

  .length {
    bottom: 8px;
    right: 8px + 35px + 8px;

    &:before {
      content: '累計：';
    }
    &:after {
      content: ' 公里';
    }
    &:not(.s), &:empty {
      ~.battery {
        bottom: 8px;
      }
    }
  }


  .no {
    position: absolute;
    left: 0;
    top: 0;

    &.s {
      display: inline-block;
      z-index: 999;
    }
    width: 100%;
    height: 100%;

    background-color: rgba(0, 0, 0, 0.2);
    display: none;
    z-index: -1;
    &:before {
      content: '目前沒有任何資料！';

      position: absolute;
      left: calc(50% - 230px / 2);
      top: calc(50% - 60px / 2);

      display: inline-block;
      width: 230px;
      height: 60px;
      line-height: 60px;

      background-color: white;
      @include border-radius(5px);
      @include box-shadow(0 0 20px rgba(0, 0, 0, 0.2));
    }
  }
}

.sw {
  $w: 20px;
  $l: 40px;

  position: relative;
  display: inline-block;
  cursor: pointer;

  i {
    position: relative;
    display: inline-block;
    width: 100%;
    height: 100%;
    width: $l;
    height: $w;
    overflow: hidden;
    @include border-radius($w / 2);

    &:before, &:after {
      content: '';
      position: absolute;
      display: inline-block;

      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }
    &:before {
      border: 1px solid rgba(223, 223, 223, 1.00);
      @include border-radius($w / 2);
      @include box-shadow(inset 0px 0px 0px 0px rgba(223, 223, 223, 1));
      @include transition(box-shadow 0.4s, background-color .2s);
    }
    &:after {
      left: 1px;
      top: 1px;
      width: $w - 1px * 2;
      height: $w - 1px * 2;
      background-color: rgba(255, 255, 255, 1.00);  
      @include border-radius(50%);
      @include transition(background-color 0.4s, left 0.2s);
      @include box-shadow(0 1px 3px rgba(0, 0, 0, 0.4));
    }
  }

  &:not(.l) {
    &.a {
      i {
        &:before {
          background-color: rgba(37, 184, 153, 1.00);
          border-color: rgb(38, 185, 154);
          @include box-shadow(inset 0px 0px 0px 11px rgba(38, 185, 154, 1));
        }
        &:after {
          left: $l + 1px - $w;
        }
      }
    }
  }

  &.l {
    $lw: 4px;
    cursor: not-allowed;

    i {
      width: $w;
      height: $w;
      margin-right: ($l - $w) / 2;

      &:before {
        border-width: 0;
        @include box-shadow(inset 0 0 1px rgba(0, 0, 0, .15));
        @include border-radius(50%);
        @include background-image(linear-gradient(rgba(184, 241, 148, 1.00) 0%, rgba(89, 178, 169, 1.00) 100%));
        @include animation(r 1s linear infinite);
        z-index: 1;
      }
      &:after {
        left: $lw;
        top: $lw;
        background-color: rgba(255, 255, 255, 1.00);
        width: calc(100% - #{($lw * 2)});
        height: calc(100% - #{($lw * 2)});
        @include border-radius(50%);
        @include box-shadow(0 0 1px rgba(0, 0, 0, .1));
        z-index: 2;
      }
    }
  }
}

.point {
  display: inline-block;
  line-height: 20px;
  background-color: white;
  @include border-radius(50%);
  @include box-shadow(0 0 1px rgba(0, 0, 0, .5));

  &:before {
    font-family: "icomoon", Arial, "微軟正黑體", "Microsoft JhengHei", -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; speak: none; font-style: normal; font-weight: normal; font-variant: normal;
    content: "\e900";
    display: inline-block;
    width: 20px;
    height: 20px;
    line-height: 20px;
    font-size: 10px;
    text-align: center;
    position: absolute;
    left: calc(50% - 20px / 2);
    top: calc(50% - 20px / 2);
    font-weight: bold;
  }
  @for $i from 0 through 360 {
    &.r#{$i}:before {
      @include rotate(#{$i}deg);
    }
  }
}
